<!-- Button trigger modal -->
<button [disabled]="cartService.cartDisabled"
  type="button"
  class="btn cart-btn rounded-pill d-flex align-items-center gap-1 fw-semibold text-black shadow-sm"
  data-bs-toggle="modal"
  data-bs-target="#exampleModal"
>
  <svg xmlns="http://www.w3.org/2000/svg" width="17" viewBox="0 0 576 512">
    <!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.-->
    <path
      d="M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"
    />
  </svg>
  Carrello
</button>

<!-- Modal -->
<div
  class="modal fade"
  id="exampleModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">
          Articoli nel carrello
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="17"
            viewBox="0 0 576 512"
          >
            <!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.-->
            <path
              d="M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"
            />
          </svg>
        </h1>
      </div>
      <div class="modal-body">
        <div class="cart-container d-flex gap-2" *ngFor="let item of cartService.items">
          <div class="cart-items">
            <span>
              <img src="{{ item.image }}" alt="{{ item.name }}" width="18" class="d-inline-block rounded-circle">

              {{ item.name }} qt: {{ item.quantity }} * {{ item.price }} = {{ item.quantity * item.price | currency: 'EUR': true }} </span>
          </div>
        </div>
        <div class="tot text-end fw-bold">Tot: {{ cartService.total | currency: 'EUR': true }}  </div>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-dark rounded-pill" data-bs-dismiss="modal">
          Chiudi
        </button>
        <button type="button" class="btn reset-btn rounded-pill text-white" (click)="cartService.clearCart()" data-bs-dismiss="modal">Acquista</button>
      </div>
    </div>
  </div>
</div>
